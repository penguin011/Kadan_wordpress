jQuery(document).ready(function(e){if(e(".cf_media_field").size()>0){var t,i,d,f="Select image",l="Use this image",c="Select MP4 file",o="Use this MP4 file";"object"==typeof cfmf_text&&("string"==typeof cfmf_text.title&&(f=cfmf_text.title),"string"==typeof cfmf_text.button&&(l=cfmf_text.button)),"object"==typeof cfmf_video_text&&("string"==typeof cfmf_video_text.title&&(c=cfmf_video_text.title),"string"==typeof cfmf_video_text.button&&(o=cfmf_video_text.button)),e(document).on("click",".cf_media_field .cfmf-select-img",function(c){c.preventDefault(),void 0!==t&&t.close(),(t=wp.media({title:f,library:{type:"image"},button:{text:l},multiple:!1})).on("open",function(){var e=t.state().get("selection"),d=i.find(".cf_media_id").val();d&&e.add(wp.media.attachment(d))}),t.on("select",function(){var f=t.state().get("selection").first();e("#"+d).val(f.attributes.id),i.find(".preview_field").html('<img src="'+f.attributes.url+'" />'),i.find(".cfmf-delete-img").show(),e("body").hasClass("widgets-php")&&i.closest(".widget-inside").find(".widget-control-save").prop("disabled",!1).val(wpWidgets.l10n.save),i=null,d=null}),i=e(this).closest(".cf_media_field"),d=i.find(".cf_media_id").attr("id"),t.open()}),e(document).on("click",".cf_media_field .cfmf-delete-img",function(t){var i=e(this).closest(".cf_media_field");i.find(".cf_media_id").val(""),i.find(".preview_field").html(""),e("body").hasClass("widgets-php")&&i.closest(".widget-inside").find(".widget-control-save").prop("disabled",!1).val(wpWidgets.l10n.save),e(this).hide()}),e(document).on("click",".cf_media_field .cfmf-select-video",function(f){f.preventDefault(),void 0!==t&&t.close(),(t=wp.media({title:c,library:{type:"video"},button:{text:o},multiple:!1})).on("select",function(){var f=t.state().get("selection").first();e("#"+d).val(f.attributes.id),i.find(".preview_field").html('<p class="uploaded_video_file">'+f.attributes.url+"</p>"),i.find(".cfmf-delete-video").show(),i=null,d=null}),i=e(this).closest(".cf_media_field"),d=i.find(".cf_media_id").attr("id"),t.open()}),e(document).on("click",".cf_media_field .cfmf-delete-video",function(t){var i=e(this).closest(".cf_media_field");i.find(".cf_media_id").val(""),i.find(".preview_field").html(""),e(this).hide()})}});